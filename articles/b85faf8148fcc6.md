---
title: "Kubernetes„Å®Helm„ÅÆÂü∫Êú¨„Åã„ÇâÂßã„ÇÅ„ÇãÊúÄÂ∞èÊßãÊàê„Éá„Éó„É≠„Ç§„Ç¨„Ç§„Éâ"
emoji: "üêï"
type: "tech" # tech: ÊäÄË°ìË®ò‰∫ã / idea: „Ç¢„Ç§„Éá„Ç¢
topics: ["kubernetes"]
published: false
---

# „ÅØ„Åò„ÇÅ„Å´

Êú¨Ë®ò‰∫ã„ÅØ„ÄÅKubernetes„Å®Helm„Å´Âàù„ÇÅ„Å¶Ëß¶„Çå„ÇãÊñπ„Å´Âêë„Åë„Å¶„ÄÅ„Åß„Åç„Çã„Å†„Åë„Çè„Åã„Çä„ÇÑ„Åô„Åè„ÄÅÊúÄÂ∞èÊßãÊàê„Åß„Ç¢„Éó„É™„Çí„Éá„Éó„É≠„Ç§„Åô„ÇãÊâãÈ†Ü„ÇíÁ¥π‰ªã„Åô„Çã„ÇÇ„ÅÆ„Åß„Åô„ÄÇ
Á≠ÜËÄÖËá™Ë∫´„ÄÅÁèæÂú®„ÅÆËÅ∑Â†¥„ÅßKubernetes„ÇÑHelm„ÇíÂàù„ÇÅ„Å¶Ëß¶„Çå„ÅüÈöõ„ÄÅÊúÄÂàù„ÅÆÁêÜËß£„Å´ÈùûÂ∏∏„Å´Ëã¶Âä¥„Åó„Åæ„Åó„Åü„ÄÇ„Åì„ÅÆË®ò‰∫ã„ÅØ„ÄÅ„Åù„ÅÆ„Å®„Åç„ÅÆ„Äå„Å©„Åì„Åß„Å§„Åæ„Åö„ÅÑ„Åü„Åã„Äç„Äå„Å©„ÅÜ„Åô„Çå„Å∞ÁêÜËß£„ÅåÈÄ≤„Çì„Å†„Åã„Äç„Çí„Éô„Éº„Çπ„Å´„ÄÅÂêå„Åò„Çà„ÅÜ„Å´ÊÇ©„ÇÄÊñπ„ÅÆÂä©„Åë„Å´„Å™„Çå„Å∞„Å®„ÅÑ„ÅÜÊÄù„ÅÑ„Å®„ÄÅËá™ÂàÜ„ÅÆÂÇôÂøòÈå≤„ÅÆÊÑèÂë≥„ÇÇËæº„ÇÅ„Å¶Êõ∏„ÅÑ„Å¶„ÅÑ„Åæ„Åô„ÄÇ

# Kubernetes„ÄÄ
Kubernetes„ÅØ„ÄÅ„Ç≥„É≥„ÉÜ„ÉäÂåñ„Åï„Çå„Åü„ÉØ„Éº„ÇØ„É≠„Éº„Éâ„ÇÑ„Çµ„Éº„Éì„Çπ„Çí„ÄÅÂÆ£Ë®ÄÁöÑ„Å™Ë®≠ÂÆö„ÇÑËá™ÂãïÂåñ„ÇíÁî®„ÅÑ„Å™„Åå„Çâ„ÄÅÁÆ°ÁêÜ„Åô„Çã„Åü„ÇÅ„ÅÆ„ÄÅ„Éù„Éº„Çø„Éñ„É´„ÅßÊã°ÂºµÂèØËÉΩ„Å™„Ç™„Éº„Éó„É≥„ÇΩ„Éº„Çπ„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†„Åß„Åô„ÄÇÂÖ¨Âºè„Çµ„Ç§„Éà„Åß„ÅØ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å™ÂÆöÁæ©„Åå„Åï„Çå„Å¶„ÅÑ„Åæ„Åô„ÄÇ

> Kubernetes is a portable, extensible, open source platform for managing containerized workloads and services, that facilitates both declarative configuration and automation. It has a large, rapidly growing ecosystem. Kubernetes services, support, and tools are widely available.

https://kubernetes.io/docs/concepts/overview/

Kubernetes„ÅØ„ÄÅ„Ç≥„É≥„ÉÜ„Éä„ÅÆËµ∑Âãï„ÇÑÂÅúÊ≠¢„Å†„Åë„Åß„Å™„Åè„ÄÅÂøÖË¶Å„Å´Âøú„Åò„Åü„Çπ„Ç±„Éº„É™„É≥„Ç∞ÔºàPod„ÅÆÂ¢óÊ∏õÔºâ„ÇÑÈöúÂÆ≥Áô∫ÁîüÊôÇ„ÅÆ„Éï„Çß„Ç§„É´„Ç™„Éº„Éê„Éº„ÇÇËá™ÂãïÁöÑ„Å´Ë°å„Å£„Å¶„Åè„Çå„Çã„Åü„ÇÅ„ÄÅÂÆâÂÆö„Åó„ÅüÈÅãÁî®„Å®ÂäπÁéáÁöÑ„Å™„É™„ÇΩ„Éº„ÇπÁÆ°ÁêÜ„ÇíÂÆüÁèæ„Åß„Åç„Åæ„Åô„ÄÇ

Kubernetes„ÅÆÁêÜËß£„ÇíÊ∑±„ÇÅ„Çã„ÅÜ„Åà„Åß„ÅØ„ÄÅ„Ç≥„É≥„ÉÜ„Éä„ÅÆÂü∫Êú¨„ÇíÊäº„Åï„Åà„Å¶„Åä„Åè„Å®ÁêÜËß£„Åå„Çπ„É†„Éº„Ç∫„Å´„Å™„Çä„Åæ„Åô„ÄÇ„Ç≥„É≥„ÉÜ„Éä„ÅØ„ÄÅ‰ªÆÊÉ≥ÂåñÊäÄË°ì„ÅÆ‰∏Ä„Å§„Åß„ÄÅ„Ç≥„Éº„Éâ„ÇÑ„Åù„ÅÆ‰æùÂ≠òÈñ¢‰øÇ„ÄÅ„É©„É≥„Çø„Ç§„É†„Å™„Å©„Çí„Éë„ÉÉ„Ç±„Éº„Ç∏„Å´„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ„Åì„Çå„Å´„Çà„Çä„ÄÅ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„Çí„Å©„ÅÆÁí∞Â¢É„Åß„ÇÇÂêå„Åò„Çà„ÅÜ„Å´Âãï‰Ωú„Åï„Åõ„Çã„Åì„Å®„ÅåÂèØËÉΩ„Å´„Å™„Çä„Åæ„Åô„ÄÇKubernetes„ÅØ„ÄÅ„Åì„ÅÜ„Åó„Åü„Ç≥„É≥„ÉÜ„Éä„ÇíÂäπÁéáÁöÑ„Åã„Å§ÂÆâÂÆöÁöÑ„Å´ÈÅãÁî®„Åô„Çã„Åü„ÇÅ„ÅÆ„Éó„É©„ÉÉ„Éà„Éï„Ç©„Éº„É†„Åß„Åô„ÄÇ

‰ª•‰∏ã„Å´ÂÖ¨Âºè„Çµ„Ç§„Éà„ÅÆ„É™„É≥„ÇØ„ÇíË≤º„Å£„Å¶„Åä„Åç„Åæ„Åô„Åå„ÄÅ„Éç„ÉÉ„Éà‰∏ä„Å´ÂÖà‰∫∫„ÅÆÊñπ„ÅåÊõ∏„ÅÑ„ÅüËß£Ë™¨Ë®ò‰∫ã„Å™„Å©„ÇÇÂ§öÊï∞„ÅÇ„Çã„ÅÆ„Åß„ÄÅ„Åù„Å°„Çâ„ÇíË™ø„Åπ„Å¶„Åø„Å¶„ÇÇËâØ„ÅÑ„Åã„ÇÇ„Åó„Çå„Åæ„Åõ„Çì„ÄÇ‰ªäÂõû„ÅÆË®ò‰∫ã„Åß„ÅØ„ÄÅKubernetes„Å®Helm„ÅÆ„Éá„Éó„É≠„Ç§Âë®„Çä„Å´ÁÑ¶ÁÇπ„ÇíÂΩì„Å¶„Åü„ÅÑ„ÅÆ„Åß„ÄÅË™¨Êòé„ÅØÁúÅ„Åç„Åæ„Åô„ÄÇ

https://www.docker.com/ja-jp/resources/what-container/

# Kubernetes Objects

Kubernetes„Åß„ÅØ„ÄÅ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅÆÁä∂ÊÖã„Çí„Äå„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Äç„Å®„Åó„Å¶ÂÆ£Ë®Ä„Åó„ÄÅ„Åù„Çå„Å´Âü∫„Å•„ÅÑ„Å¶„Ç∑„Çπ„ÉÜ„É†ÂÖ®‰Ωì„ÅåËá™ÂãïÁöÑ„Å´ÁÆ°ÁêÜ„ÉªË™øÊï¥„Åï„Çå„Åæ„Åô„ÄÇ
„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅØ„Åô„Åπ„Å¶YAMLÔºà„Åæ„Åü„ÅØJSONÔºâÂΩ¢Âºè„ÅÆ„Éû„Éã„Éï„Çß„Çπ„Éà„Éï„Ç°„Ç§„É´„ÅßÂÆöÁæ©„Åï„Çå„ÄÅkubectl „ÇÑ API ÁµåÁî±„ÅßKubernetes„Å´ÈÅ©Áî®„Åï„Çå„Åæ„Åô„ÄÇ

> Kubernetes objects are persistent entities in the Kubernetes system. Kubernetes uses these entities to represent the state of your cluster.

https://kubernetes.io/docs/concepts/overview/working-with-objects/

‰ª•‰∏ã„Åå‰∏ªË¶Å„Å™„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆ‰∏ÄË¶ß„Åß„Åô„ÄÇ

| „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà                 | Ë™¨Êòé                              |
| ---------------------- | ------------------------------- |
| **Pod**                | „Ç≥„É≥„ÉÜ„Éä„ÇíÂÆüË°å„Åô„ÇãÊúÄÂ∞èÂçò‰ΩçÔºàÈÄöÂ∏∏„ÅØ1„Ç≥„É≥„ÉÜ„ÉäÔºâ         |
| **Deployment**         | Ë§áÊï∞„ÅÆPod„Çí‰∏ÄË≤´„Åó„Å¶ÁÆ°ÁêÜ„Éª„Çπ„Ç±„Éº„É™„É≥„Ç∞„ÉªÊõ¥Êñ∞         |
| **ReplicaSet**         | Deployment„ÅåÂÜÖÈÉ®„Åß‰Ωø„ÅÜ„ÄÅPod„ÅÆ„É¨„Éó„É™„Ç´Á∂≠ÊåÅÊ©üÊßã   |
| **Service**            | Pod„Å´ÂØæ„Åô„Çã„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„Ç¢„ÇØ„Çª„Çπ„ÇíÊèê‰æõ            |
| **Ingress**            | Â§ñÈÉ®„ÅÆHTTP„É™„ÇØ„Ç®„Çπ„Éà„Çí„ÄÅÂÜÖÈÉ®„ÅÆService„Å∏„É´„Éº„ÉÜ„Ç£„É≥„Ç∞ |
| **ConfigMap / Secret** | „Ç¢„Éó„É™„ÅÆË®≠ÂÆöÂÄ§„ÇÑÊ©üÂØÜÊÉÖÂ†±„ÇíPod„Å´Ê∏°„Åô‰ªïÁµÑ„Åø          |

„Åì„Çå„Çâ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí„Å©„ÅÆ„Çà„ÅÜ„Å´Ë®òËø∞„Åó„ÄÅÈÅ©Áî®„Åó„Å¶„ÅÑ„Åè„Åã„ÅØ„ÄÅÊ¨°„ÅÆÁ´†„ÅßÁ¥π‰ªã„Åô„Çã„Äå„Éû„Éã„Éï„Çß„Çπ„Éà„Éï„Ç°„Ç§„É´„Äç„ÅÆÊßãÈÄ†„Å®„ÅÇ„Çè„Åõ„Å¶ÂÖ∑‰ΩìÁöÑ„Å´Ë¶ã„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ

# „Éû„Éã„Éï„Çß„Çπ„Éà„Éï„Ç°„Ç§„É´
Kubernetes„Åß„ÅØ„ÄÅ„ÇØ„É©„Çπ„Çø‰∏ä„ÅßÂãï„Åã„Åô„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÊÉÖÂ†±„Çí„ÄÅ„Éû„Éã„Éï„Çß„Çπ„Éà„Å®„ÅÑ„ÅÜË®≠ÂÆö„Éï„Ç°„Ç§„É´„Å´Ë®òËø∞„Åó„Å¶ÁÆ°ÁêÜ„Åó„Åæ„Åô„ÄÇ„Åì„ÅÆ„Éï„Ç°„Ç§„É´„ÅØ‰∏ª„Å´ YAMLÂΩ¢Âºè „ÅßÊõ∏„Åã„Çå„ÄÅKubernetes„Å´„Äå„Åì„ÅÜ„ÅÑ„ÅÜÁä∂ÊÖã„Å´„Åó„Å¶„Åª„Åó„ÅÑ„Äç„Å®‰ºù„Åà„Çã„Åü„ÇÅ„ÅÆÂÆ£Ë®ÄÁöÑ„Å™ÂÆöÁæ©„Åß„Åô„ÄÇ

> When you use the Kubernetes API to create the object (either directly or via kubectl), that API request must include that information as YAML„ÄÄor„ÄÄJSON in the request body. Most often, you provide the information to kubectl in a file known as a manifest.

https://kubernetes.io/docs/concepts/overview/working-with-objects/

„Éû„Éã„Éï„Çß„Çπ„Éà„ÅÆÁâπÂæ¥„Å®„Åó„Å¶„ÄÅ‰ª•‰∏ã„ÅåÊåô„Åí„Çâ„Çå„Åæ„Åô„ÄÇ
1. ÂÆ£Ë®ÄÁöÑÔºàdeclarativeÔºâ
  „Äå‰Ωï„Çí„Å©„ÅÜ„Åó„Å¶„Åª„Åó„ÅÑ„Åã„Äç„ÇíÂÆöÁæ©„Åô„Çã„Å†„Åë„Åß„ÄÅKubernetes„ÅåÁä∂ÊÖã„ÇíÁ∂≠ÊåÅ„ÉªË™øÊï¥„Åó„Å¶„Åè„Çå„Çã
2. „Éê„Éº„Ç∏„Éß„É≥ÁÆ°ÁêÜ„ÅåÂÆπÊòì
  YAML„Éï„Ç°„Ç§„É´„Å™„ÅÆ„ÅßGit„Å™„Å©„ÅßÂ§âÊõ¥Â±•Ê≠¥„ÇíÁÆ°ÁêÜ„Åó„ÇÑ„Åô„ÅÑ
3. ÂÜçÁèæÊÄß„ÅåÈ´ò„ÅÑ
  Âêå„Åò„Éû„Éã„Éï„Çß„Çπ„Éà„ÇíÈÅ©Áî®„Åô„Çå„Å∞„ÄÅ‰ªñ„ÅÆÁí∞Â¢É„Åß„ÇÇÂêå„ÅòÁä∂ÊÖã„ÇíÂÜçÁèæ„Åß„Åç„Çã

„Éû„Éã„Éï„Çß„Çπ„Éà„ÅÆÂü∫Êú¨ÊßãÈÄ†„ÅØ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´„Å™„Å£„Å¶„Åä„Çä„ÄÅÂøÖÈ†à„ÅÆ„Éó„É≠„Éë„ÉÜ„Ç£„Å®„Åó„Å¶„ÄÅ‰ª•‰∏ã„ÇíÊåÅ„Å°„Åæ„Åô„ÄÇ

| „Éï„Ç£„Éº„É´„Éâ      | Ë™¨Êòé                                                                 |
|-----------------|----------------------------------------------------------------------|
| **apiVersion**  | „Åù„ÅÆ„É™„ÇΩ„Éº„Çπ„Åå‰Ωø„ÅÜ Kubernetes API „ÅÆ„Éê„Éº„Ç∏„Éß„É≥                       |
| **kind**        | ‰ΩúÊàê„Åó„Åü„ÅÑ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„ÅÆÁ®ÆÈ°ûÔºà‰æã: Deployment, Service „Å™„Å©Ôºâ         |
| **metadata**    | „Ç™„Éñ„Ç∏„Çß„ÇØ„ÉàÂêç„ÄÅ„É©„Éô„É´„ÄÅNamespace „Å™„Å©„ÅÆË≠òÂà•ÊÉÖÂ†±                     |
| **spec**        | Êúõ„Åæ„Åó„ÅÑÁä∂ÊÖãÔºà‰æã: Pod Êï∞„ÄÅ„Ç§„É°„Éº„Ç∏Âêç„ÄÅ„Éù„Éº„Éà„Å™„Å©Ôºâ„ÇíÂÖ∑‰ΩìÁöÑ„Å´Ë®òËø∞„Åô„Çã„Çª„ÇØ„Ç∑„Éß„É≥ |

```yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: my-app
spec:
  replicas: 2
  # „Åì„Åì„Å´Pod„ÅÆ„ÉÜ„É≥„Éó„É¨„Éº„ÉàÔºàcontainers„ÄÅimage„Å™„Å©Ôºâ„ÇíÂÆöÁæ©„Åó„Åæ„Åô
```


‰ΩúÊàê„Åó„Åü„Éû„Éã„Éï„Çß„Çπ„Éà„Éï„Ç°„Ç§„É´„ÅØ„ÄÅkubectl apply „Ç≥„Éû„É≥„Éâ„ÅßKubernetes„Å´ÈÅ©Áî®„Åó„Åæ„ÅôÔºö

```bash
$ kubectl apply -f deployment.yaml
```

„Åì„Çå„Å´„Çà„Çä„ÄÅKubernetes„ÅØÊåáÂÆö„Åï„Çå„Åü„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí‰ΩúÊàê„Åó„ÄÅÊúõ„Åæ„Åó„ÅÑÁä∂ÊÖã„Å´‰øù„Å§„Çà„ÅÜËá™Âãï„ÅßÂà∂Âæ°„ÇíÂßã„ÇÅ„Åæ„Åô„ÄÇ

„Åì„Çå„Çâ„ÅÆ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí„Å©„ÅÆ„Çà„ÅÜ„Å´Ë®òËø∞„Åó„ÄÅÈÅ©Áî®„Åó„Å¶„ÅÑ„Åè„Åã„ÅØ„ÄÅDevelopment„Å® Service„ÄÅIngress„ÅÆÊõ∏„ÅçÊñπ„Çí‰æã„Å®„Åó„Å¶„ÄÅ„Åì„ÅÆÂÖà„ÅÆÁ´†„ÅßÁ¥π‰ªã„Åó„Å¶„ÅÑ„Åç„Åæ„Åô„ÄÇ

## Deployment

Kubernetes„Å´„Åä„Åë„Çã Deployment „ÅØ„ÄÅ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÇíÊßãÊàê„Åô„ÇãPod„ÇíÂÆâÂÆöÁöÑ„Å´ÁÆ°ÁêÜ„Åô„Çã„Åü„ÇÅ„ÅÆ„Ç≥„É≥„Éà„É≠„Éº„É©„Éº„Åß„Åô„ÄÇ

ÂÖ¨Âºè„Éâ„Ç≠„É•„É°„É≥„Éà„Åß„ÅØÊ¨°„ÅÆ„Çà„ÅÜ„Å´ÂÆöÁæ©„Åï„Çå„Å¶„ÅÑ„Åæ„ÅôÔºö

> A Deployment manages a set of Pods to run an application workload, usually one that doesn't maintain state.

https://kubernetes.io/docs/concepts/workloads/controllers/deployment/

Deployment„ÅØÂÜÖÈÉ®ÁöÑ„Å´ ReplicaSet „ÇíÂà©Áî®„Åó„Å¶„ÄÅÊåáÂÆö„Åó„ÅüÊï∞„ÅÆPod„ÇíÂ∏∏„Å´Á∂≠ÊåÅ„Åó„ÄÅÂøÖË¶Å„Å´Âøú„Åò„Å¶ÂÜçËµ∑Âãï„ÇÑ„É≠„Éº„É™„É≥„Ç∞„Ç¢„ÉÉ„Éó„Éá„Éº„ÉàÔºàÊÆµÈöéÁöÑ„Å™Êõ¥Êñ∞Ôºâ„ÇíË°å„ÅÑ„Åæ„Åô„ÄÇ„Åù„ÅÆ„Åü„ÇÅ„ÄÅÂçò„Å™„ÇãPod„ÅÆËµ∑Âãï„Å†„Åë„Åß„Å™„Åè„ÄÅ„Éê„Éº„Ç∏„Éß„É≥Êõ¥Êñ∞„Éª„Çπ„Ç±„Éº„É™„É≥„Ç∞„Éª„Éï„Çß„Ç§„É´„Ç™„Éº„Éê„Éº„Å®„ÅÑ„Å£„ÅüÂÆüÈÅãÁî®„Å´Ê¨†„Åã„Åõ„Å™„ÅÑÊ©üËÉΩ„ÇíÊîØ„Åà„Å¶„Åè„Çå„ÇãÈáçË¶Å„Å™Â≠òÂú®„Åß„Åô„ÄÇ

```yaml:deployment.yaml
apiVersion: v1
kind: Pod
metadata:
  name: nginx
  labels:
    app.kubernetes.io/name: proxy
spec:
  containers:
  - name: nginx
    image: nginx:stable
    ports:
      - containerPort: 80
        name: http-web-svc
```

| „Éï„Ç£„Éº„É´„Éâ      | Ë™¨Êòé                                                                 |
|-----------------|----------------------------------------------------------------------|
| **replicas**    | Ëµ∑Âãï„Åô„ÇãPod„ÅÆÊï∞Ôºà‰æãÔºö2„Å§Ôºâ                                           |
| **selector**    | „Åì„ÅÆDeployment„ÅåÁÆ°ÁêÜ„Åô„ÇãPod„ÇíË≠òÂà•„Åô„Çã„Åü„ÇÅ„ÅÆÊù°‰ª∂                      |
| **template**    | ÂÆüÈöõ„Å´‰ΩúÊàê„Åï„Çå„ÇãPod„ÅÆ‰ªïÊßò„ÇíÂÆöÁæ©                                      |
| **containers**  | PodÂÜÖ„ÅßËµ∑Âãï„Åô„Çã„Ç≥„É≥„ÉÜ„ÉäÔºà„Åì„Åì„Åß„ÅØnginxÔºâ                             |

„Åì„ÅÆ„Éû„Éã„Éï„Çß„Çπ„Éà„Çí deployment.yaml „Å®„Åó„Å¶‰øùÂ≠ò„Åó„ÄÅ‰ª•‰∏ã„ÅÆ„Ç≥„Éû„É≥„Éâ„ÅßÈÅ©Áî®„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ

```bash
$ kubectl apply -f deployment.yaml
```

„Åì„ÅÆ„Çà„ÅÜ„Å´„ÄÅDeployment„Çí‰Ωø„ÅÜ„Åì„Å®„Åß„ÄÅ„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÅÆËµ∑Âãï„ÉªÁ∂≠ÊåÅ„ÉªÊõ¥Êñ∞„ÇíKubernetes„Å´‰ªª„Åõ„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ

Ê¨°Á´†„Åß„ÅØ„ÄÅPod„Å´Â§ñÈÉ®„Åã„Çâ„Ç¢„ÇØ„Çª„Çπ„Åô„Çã„Åü„ÇÅ„Å´ÂøÖË¶Å„Å™Service„ÅÆÂÆöÁæ©„Å´„Å§„ÅÑ„Å¶Á¥π‰ªã„Åó„Åæ„Åô„ÄÇ

## Service

Kubernetes„Å´„Åä„Åë„Çã Service „ÅØ„ÄÅË§áÊï∞„ÅÆPod„Å´ÂØæ„Åó„Å¶ÂÆâÂÆö„Åó„Åü„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ„Ç¢„ÇØ„Çª„Çπ„ÇíÊèê‰æõ„Åô„Çã„Åü„ÇÅ„ÅÆÊäΩË±°Âåñ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Åß„Åô„ÄÇ
„Ç¢„Éó„É™„Ç±„Éº„Ç∑„Éß„É≥„ÇíPod„Å®„Åó„Å¶Âãï„Åã„ÅôÂ†¥Âêà„ÄÅDeployment„ÅÆ‰ªïÁµÑ„Åø„Å´„Çà„Å£„Å¶Pod„ÅØÂãïÁöÑ„Å´‰ΩúÊàê„ÉªÂâäÈô§„Åï„Çå„ÄÅIP„Ç¢„Éâ„É¨„Çπ„ÇÇÂ§â„Çè„Çä„Åæ„Åô„ÄÇ
„Åù„ÅÆ„Åü„ÇÅ„ÄÅ„ÇØ„É©„Ç§„Ç¢„É≥„Éà„ÅåÁõ¥Êé•Pod„ÅÆIP„ÇíÊåáÂÆö„Åó„Å¶ÈÄö‰ø°„Åô„Çã„ÅÆ„ÅØÁèæÂÆüÁöÑ„Åß„ÅØ„ÅÇ„Çä„Åæ„Åõ„Çì„ÄÇ

ÂÖ¨Âºè„Éâ„Ç≠„É•„É°„É≥„Éà„Åß„ÅØ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´Ë™¨Êòé„Åï„Çå„Å¶„ÅÑ„Åæ„ÅôÔºö

> Expose an application running in your cluster behind a single outward-facing endpoint, even when the workload is split across multiple backends.

https://kubernetes.io/docs/concepts/services-networking/service/

```yaml:service.yaml
apiVersion: v1
kind: Service
metadata:
  name: nginx-service
spec:
  selector:
    app.kubernetes.io/name: proxy
  ports:
  - name: name-of-service-port
    protocol: TCP
    port: 80
    targetPort: http-web-svc
```

| „Éï„Ç£„Éº„É´„Éâ       | Ë™¨Êòé                                                                 |
|------------------|----------------------------------------------------------------------|
| **selector**     | „É©„Éô„É´„Å´„Çà„ÇäÂØæË±°Pod„ÇíÊåáÂÆö„ÄÇDeployment„ÅÆPod„Å®‰∏ÄËá¥„Åï„Åõ„ÇãÂøÖË¶Å„Åå„ÅÇ„Çã     |
| **port**         | „ÇØ„É©„Ç§„Ç¢„É≥„Éà„Åå„Ç¢„ÇØ„Çª„Çπ„Åô„ÇãService„ÅÆ„Éù„Éº„Éà                            |
| **targetPort**   |  http-web-svc „ÅØ„ÄÅPodÂÆöÁæ©ÂÜÖ„ÅÆ„Ç≥„É≥„ÉÜ„Éä„Éù„Éº„Éà„Å´ name: http-web-svc „ÅåÊåáÂÆö„Åï„Çå„Å¶„ÅÑ„ÇãÂ†¥Âêà„Å´‰ΩøÁî®„Åï„Çå„Åæ„Åô„ÄÇÊï∞ÂÄ§Ôºà‰æã: 80Ôºâ„ÅßÊõ∏„Åè„Åì„Å®„ÇÇÂèØËÉΩ„Åß„Åô„ÄÇ                              |

„Åì„ÅÆ„Éû„Éã„Éï„Çß„Çπ„Éà„Çí service.yaml „Å®„Åó„Å¶‰øùÂ≠ò„Åó„ÄÅ‰ª•‰∏ã„ÅÆ„Ç≥„Éû„É≥„Éâ„ÅßÈÅ©Áî®„Åô„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„Åô„ÄÇ

```bash
$ kubectl apply -f service.yaml
```

Service„ÅØ„ÄÅË§áÊï∞„ÅÆPod„Çí1„Å§„ÅÆ„Çµ„Éº„Éì„Çπ„Å®„Åó„Å¶„Åæ„Å®„ÇÅ„ÄÅ‰ªÆÊÉ≥IP„ÇÑDNSÂêç„ÇíÈÄö„Åò„Å¶„Ç¢„ÇØ„Çª„Çπ„Åß„Åç„Çã„Çà„ÅÜ„Å´„Åô„Çã‚Äú„Éç„ÉÉ„Éà„ÉØ„Éº„ÇØ‰∏ä„ÅÆÂÖ•„ÇäÂè£‚Äù„Åß„Åô„ÄÇ
Ê¨°Á´†„Åß„ÅØ„ÄÅURL„É´„Éº„ÉÜ„Ç£„É≥„Ç∞„ÇÑË§áÊï∞Service„ÅÆÁµ±ÂêàÂÖ•„ÇäÂè£„Å®„Åó„Å¶‰Ωø„Åà„Çã Ingress „Å´„Å§„ÅÑ„Å¶Ëß£Ë™¨„Åó„Åæ„Åô„ÄÇ

## Ingress

Â§ñÈÉ®„Åã„Çâ„ÅÆHTTP„É™„ÇØ„Ç®„Çπ„Éà„Çí„ÄÅ„É´„Éº„É´„Å´Âü∫„Å•„ÅÑ„Å¶Service„Å∏„É´„Éº„ÉÜ„Ç£„É≥„Ç∞„Åô„Çã‰ªïÁµÑ„Åø„ÄÇ

> Make your HTTP (or HTTPS) network service available using a protocol-aware configuration mechanism, that understands web concepts like URIs, hostnames, paths, and more. The Ingress concept lets you map traffic to different backends based on rules you define via the Kubernetes API.

```yaml:ingress.yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: minimal-ingress
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
spec:
  ingressClassName: nginx-example
  rules:
  - http:
      paths:
      - path: /testpath
        pathType: Prefix
        backend:
          service:
            name: test
            port:
              number: 80
```

```bash
$ kubectl apply -f ingress.yaml
```

‚Äª Gateway API „Å´„Åµ„Çå„Çã
https://kubernetes.io/docs/concepts/services-networking/gateway/

# Helm

> Helm helps you manage Kubernetes applications ‚Äî Helm Charts help you define, install, and upgrade even the most complex Kubernetes application.

# Helm Chart

> A Chart is a Helm package. It contains all of the resource definitions necessary to run an application, tool, or service inside of a Kubernetes cluster. Think of it like the Kubernetes equivalent of a Homebrew formula, an Apt dpkg, or a Yum RPM file.

# minikube‰∏ä„Åß„ÄÅ„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Çí‰ΩúÊàê„Åô„Çã

TODO:„ÇØ„É©„Çπ„Çø„ÅÆ‰ΩúÊàê„Å®„ÄÅ„Éû„Éã„Éï„Çß„Çπ„Éà„ÇíÂà©Áî®„Åó„Åü„Éù„ÉÉ„Éâ„ÅÆ‰ΩúÊàê„Å®„ÄÅ„Åù„Åì„Å∏„ÅÆ„Ç¢„ÇØ„Çª„Çπ„Çí

> minikube quickly sets up a local Kubernetes cluster on macOS, Linux, and Windows. We proudly focus on helping application developers and new Kubernetes users.

https://minikube.sigs.k8s.io/docs/

# „Åæ„Å®„ÇÅ
